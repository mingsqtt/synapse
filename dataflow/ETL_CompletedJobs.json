{
	"name": "ETL_CompletedJobs",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "HaulioCommunityPortal_HaulierJobs",
						"type": "DatasetReference"
					},
					"name": "haulierjobs",
					"description": "Import data from HaulioCommunityPortal_HaulierJobs\nd"
				}
			],
			"sinks": [
				{
					"name": "sink1"
				}
			],
			"transformations": [
				{
					"name": "filter1"
				}
			],
			"scriptLines": [
				"source(output(",
				"          Id as long,",
				"          BillOfLadingNumber as string,",
				"          CarrierBookingReference as string,",
				"          CarrierNumber as string,",
				"          CompanyId as long,",
				"          CreatedAt as timestamp,",
				"          CreatedBy as string,",
				"          InvisibilitySetup as string,",
				"          LocationA_AddressBody as string,",
				"          LocationA_Floor as string,",
				"          LocationA_Latitude as double,",
				"          LocationA_Longitude as double,",
				"          LocationA_PostalCode as string,",
				"          LocationA_Unit as string,",
				"          LocationB_AddressBody as string,",
				"          LocationB_Floor as string,",
				"          LocationB_Latitude as double,",
				"          LocationB_Longitude as double,",
				"          LocationB_PostalCode as string,",
				"          LocationB_Unit as string,",
				"          NeededBy as timestamp,",
				"          Notes as string,",
				"          PermitNumber as string,",
				"          PsaGroupName as string,",
				"          ShipperName as string,",
				"          Stage as integer,",
				"          Status as boolean,",
				"          Type as integer,",
				"          UpdatedAt as timestamp,",
				"          UpdatedBy as string,",
				"          VesselName as string,",
				"          VisibilitySetup as integer,",
				"          Voyage as string,",
				"          VesselEstimatedTimeOfArrival as timestamp,",
				"          CompanyJobId as long,",
				"          JobCode as string,",
				"          PreviousStage as integer,",
				"          IsLockedForRespondence as boolean,",
				"          RelatedJobInfoUpdatedAt as timestamp,",
				"          RelatedJobInfoUpdatedBy as string,",
				"          HaulioInternalNotes as string,",
				"          JobCreatorReferenceNumber as string,",
				"          TruckInDateTime as timestamp,",
				"          IsApprovedForBilling as boolean,",
				"          HaulageBookingReviewId as long,",
				"          IsChatPendingForSearchIndexing as boolean,",
				"          IsJobInfoPendingForSearchIndexing as boolean,",
				"          PortnetReference as string,",
				"          Portnet as boolean,",
				"          TruckOutDateTime as timestamp,",
				"          ParkingInstructions as string,",
				"          CompanyCustomerId as long,",
				"          LoadingBayFloorNumber as string,",
				"          LoadingBayNumber as string,",
				"          LocationB_CompanyCustomerPICId as long,",
				"          NtpDocumentJobGroupingText as string,",
				"          ChassisDemurrage as timestamp,",
				"          ChassisDemurrageStartFrom as timestamp,",
				"          FirstDayToExportToPort as timestamp,",
				"          FirstDayToTrackFromDepot as timestamp,",
				"          LastDayToReturnToDepot as timestamp,",
				"          LastDayToTruckOutFromPort as timestamp,",
				"          PsaStorerent as timestamp,",
				"          PlatformSource as integer,",
				"          LocationA_Id as long,",
				"          LocationB_Id as long,",
				"          LocationA_LocationCategory as integer,",
				"          LocationB_LocationCategory as integer,",
				"          PortTerminalId as long,",
				"          ShipperReference as string,",
				"          CompletedAt as timestamp,",
				"          SalesforceId as string,",
				"          IsCustomsEndorsementRequired as boolean,",
				"          DangerousGoods as integer,",
				"          MainJobType as integer,",
				"          IsNMT as boolean,",
				"          NeededByPrefix as integer,",
				"          LocationC_AddressBody as string,",
				"          IsOrangePlateRequired as boolean,",
				"          PartnerCompanyId as long,",
				"          LocationC_Floor as string,",
				"          TruckInPrefix as integer,",
				"          LocationC_PostalCode as string,",
				"          TruckOutPrefix as integer,",
				"          LocationC_Unit as string,",
				"          LocationC_Id as long,",
				"          LocationC_Latitude as double,",
				"          LocationC_LocationCategory as integer,",
				"          LocationC_Longitude as double,",
				"          NeededByLatterDateTime as timestamp,",
				"          TruckInLatterDateTime as timestamp,",
				"          TruckOutLatterDateTime as timestamp,",
				"          ParentHaulierJobId as long,",
				"          ExportDeadline as timestamp,",
				"          IsFromHcpV2 as boolean,",
				"          BatchNumber as string,",
				"          CustomerContactPerson as string,",
				"          PricingTemplateId as long,",
				"          FamilyHaulierJobId as long,",
				"          IsAutomaticallyApproveJobForBilling as boolean,",
				"          IsChatDisabled as boolean,",
				"          IsJobAttachmentDisabled as boolean,",
				"          LocationA_CompanyCustomerPICId as long,",
				"          LocationC_CompanyCustomerPICId as long,",
				"          IsSentChargeDeadlineOverEmail as boolean,",
				"          EmailRecipientType as integer,",
				"          TeamId as long,",
				"          CancellationReason as string,",
				"          CancellationReasonType as integer,",
				"          CancellationRemarks as string,",
				"          CancelledAt as timestamp,",
				"          CampaignIncentiveAmount as decimal(18,2),",
				"          IsEligibleForCampaign as boolean,",
				"          OngoingAt as timestamp,",
				"          FullyAssignedAt as timestamp,",
				"          BerthNumber as string,",
				"          IsReceivingVesselETBAutoUpdate as boolean,",
				"          PortnetVesselETBUpdatedAt as timestamp,",
				"          AcknowledgedAt as timestamp,",
				"          IsCreatedWithAdvancePayment as boolean,",
				"          PaidAmount as decimal(18,2),",
				"          ReservedAmount as decimal(18,2),",
				"          IsPaidToHaulio as boolean,",
				"          NotificationRecipientJobCreatorPicEmail as string,",
				"          BroadcastedAt as timestamp,",
				"          HaulierQuotationTemplateId as long",
				"     ),",
				"     allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     isolationLevel: 'READ_UNCOMMITTED',",
				"     format: 'table') ~> haulierjobs",
				"haulierjobs filter(Stage == 3) ~> filter1",
				"filter1 sink(validateSchema: false,",
				"     skipDuplicateMapInputs: true,",
				"     skipDuplicateMapOutputs: true,",
				"     store: 'cache',",
				"     format: 'inline',",
				"     output: false,",
				"     saveOrder: 1) ~> sink1"
			]
		}
	}
}